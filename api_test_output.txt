FAIL tests/api/negotiations.api.test.ts (17.864 s)
  Negotiations API Integration
    ├ù POST /negotiations - should create a draft negotiation (7675 ms)
    ├ù POST /negotiations/:id/submit-for-activation - should submit draft (6316 ms)

  ÔùÅ Negotiations API Integration ÔÇ║ POST /negotiations - should create a draft negotiation

    Unknown column 'role' in 'field list'

      27 |
      28 |             // Insert User (Broker)
    > 29 |             await conn.query(`INSERT IGNORE INTO users (id, name, email, role) VALUES 
         |                        ^
      30 |             (1, "Broker User", "broker@test.com", "BROKER")`);
      31 |
      32 |             // Insert Broker record (required for auth middleware)

      at PromisePoolConnection.query (node_modules/mysql2/lib/promise/connection.js:29:22)
      at Object.<anonymous> (tests/api/negotiations.api.test.ts:29:24)

  ÔùÅ Negotiations API Integration ÔÇ║ POST /negotiations/:id/submit-for-activation - should submit draft

    Unknown column 'role' in 'field list'

      27 |
      28 |             // Insert User (Broker)
    > 29 |             await conn.query(`INSERT IGNORE INTO users (id, name, email, role) VALUES 
         |                        ^
      30 |             (1, "Broker User", "broker@test.com", "BROKER")`);
      31 |
      32 |             // Insert Broker record (required for auth middleware)

      at PromisePoolConnection.query (node_modules/mysql2/lib/promise/connection.js:29:22)
      at Object.<anonymous> (tests/api/negotiations.api.test.ts:29:24)

Test Suites: 1 failed, 1 total
Tests:       2 failed, 2 total
Snapshots:   0 total
Time:        18.018 s, estimated 22 s
Ran all test suites matching /tests\\api\\negotiations.api.test.ts/i.
Force exiting Jest: Have you considered using `--detectOpenHandles` to detect async operations that kept running after all tests finished?
